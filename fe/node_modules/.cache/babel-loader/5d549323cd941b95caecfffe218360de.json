{"ast":null,"code":"import _objectSpread from \"D:\\\\codes\\\\wb\\\\4-28\\\\express-full\\\\fe\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"D:\\\\codes\\\\wb\\\\4-28\\\\express-full\\\\fe\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\codes\\\\wb\\\\4-28\\\\express-full\\\\fe\\\\src\\\\pages\\\\Home\\\\index.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Map from \"../../component/Map\";\nimport { StandaloneSearchBox } from \"react-google-maps/lib/components/places/StandaloneSearchBox\";\nimport { _getJson, _getPidsList, _getPinfosList } from \"./../../util/req.js\";\nconst API_KEY = \"AIzaSyCvHcIZbtF80KUW23vCV_kmmr2EVixerAI\";\nexport default function Index() {\n  const refs = {};\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        places = _useState2[0],\n        setPlaces = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        placeJson = _useState4[0],\n        setPlaceJson = _useState4[1]; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  const getJson = async () => {\n    var res = await _getJson();\n    console.log(\"res -> :\", res);\n    getPlaceList(res.data);\n  };\n\n  const getPlaceList = async placeJson => {\n    var nameList = placeJson;\n    var reqList = nameList.map(async (it, index) => await _getPidsList(\"/queryautocomplete/json?&key=\".concat(API_KEY, \"&input=\").concat(it.hospName)));\n    var data = await Promise.all(reqList);\n    var finalDataList = data.map(it => it.predictions[0].place_id).map(async (it, index) => await _getPinfosList(\"/details/json?&key=\".concat(API_KEY, \"&placeid=\").concat(it)));\n    var dataList = await Promise.all(finalDataList);\n    var finalData = dataList.map((it, index) => _objectSpread({}, it.result, {\n      wait: nameList[index]\n    }));\n    setPlaceJson(finalData);\n  };\n\n  useEffect(() => {\n    getJson();\n  }, [getJson]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      width: \"420px\",\n      margin: \"0 auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StandaloneSearchBox, {\n    ref: res => {\n      refs.searchBox = res;\n    },\n    onPlacesChanged: () => {\n      const places = refs.searchBox.getPlaces();\n      setPlaces([...places]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Customized your placeholder\",\n    style: {\n      boxSizing: \"border-box\",\n      border: \"1px solid transparent\",\n      width: \"100%\",\n      height: \"32px\",\n      padding: \"0 12px\",\n      borderRadius: \"3px\",\n      boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.3)\",\n      fontSize: \"14px\",\n      outline: \"none\",\n      textOverflow: \"ellipses\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, places.map(({\n    place_id,\n    formatted_address,\n    geometry: {\n      location\n    }\n  }) => /*#__PURE__*/React.createElement(\"li\", {\n    key: place_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, formatted_address, \" at \", \"(\", location.lat(), \", \", location.lng(), \")\")))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Map, {\n    loadingElement: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }),\n    containerElement: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"400px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 27\n      }\n    }),\n    mapElement: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }),\n    initMapkers: placeJson,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["D:/codes/wb/4-28/express-full/fe/src/pages/Home/index.jsx"],"names":["React","useEffect","useState","Map","StandaloneSearchBox","_getJson","_getPidsList","_getPinfosList","API_KEY","Index","refs","places","setPlaces","placeJson","setPlaceJson","getJson","res","console","log","getPlaceList","data","nameList","reqList","map","it","index","hospName","Promise","all","finalDataList","predictions","place_id","dataList","finalData","result","wait","textAlign","width","margin","searchBox","getPlaces","boxSizing","border","height","padding","borderRadius","boxShadow","fontSize","outline","textOverflow","formatted_address","geometry","location","lat","lng"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Map from \"../../component/Map\";\r\nimport { StandaloneSearchBox } from \"react-google-maps/lib/components/places/StandaloneSearchBox\";\r\n\r\nimport { _getJson, _getPidsList, _getPinfosList } from \"./../../util/req.js\";\r\n\r\nconst API_KEY = \"AIzaSyCvHcIZbtF80KUW23vCV_kmmr2EVixerAI\";\r\n\r\nexport default function Index() {\r\n  const refs = {};\r\n  const [places, setPlaces] = useState([]);\r\n\r\n  const [placeJson, setPlaceJson] = useState([]);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const getJson = async () => {\r\n    var res = await _getJson();\r\n    console.log(\"res -> :\", res);\r\n    getPlaceList(res.data);\r\n  };\r\n\r\n  const getPlaceList = async (placeJson) => {\r\n    var nameList = placeJson;\r\n\r\n    var reqList = nameList.map(\r\n      async (it, index) =>\r\n        await _getPidsList(\r\n          `/queryautocomplete/json?&key=${API_KEY}&input=${it.hospName}`\r\n        )\r\n    );\r\n\r\n    var data = await Promise.all(reqList);\r\n    var finalDataList = data\r\n      .map((it) => it.predictions[0].place_id)\r\n      .map(\r\n        async (it, index) =>\r\n          await _getPinfosList(`/details/json?&key=${API_KEY}&placeid=${it}`)\r\n      );\r\n\r\n    var dataList = await Promise.all(finalDataList);\r\n\r\n    var finalData = dataList.map((it, index) => ({\r\n      ...it.result,\r\n      wait: nameList[index],\r\n    }));\r\n\r\n    setPlaceJson(finalData);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getJson();\r\n  }, [getJson]);\r\n\r\n  return (\r\n    <div>\r\n      <br />\r\n      <div style={{ textAlign: \"center\", width: \"420px\", margin: \"0 auto\" }}>\r\n        <StandaloneSearchBox\r\n          ref={(res) => {\r\n            refs.searchBox = res;\r\n          }}\r\n          onPlacesChanged={() => {\r\n            const places = refs.searchBox.getPlaces();\r\n            setPlaces([...places]);\r\n          }}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Customized your placeholder\"\r\n            style={{\r\n              boxSizing: `border-box`,\r\n              border: `1px solid transparent`,\r\n              width: `100%`,\r\n              height: `32px`,\r\n              padding: `0 12px`,\r\n              borderRadius: `3px`,\r\n              boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\r\n              fontSize: `14px`,\r\n              outline: `none`,\r\n              textOverflow: `ellipses`,\r\n            }}\r\n          />\r\n        </StandaloneSearchBox>\r\n        <ul>\r\n          {places.map(\r\n            ({ place_id, formatted_address, geometry: { location } }) => (\r\n              <li key={place_id}>\r\n                {formatted_address}\r\n                {\" at \"}({location.lat()}, {location.lng()})\r\n              </li>\r\n            )\r\n          )}\r\n        </ul>\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <Map\r\n        loadingElement={<div style={{ height: `100%` }} />}\r\n        containerElement={<div style={{ height: `400px` }} />}\r\n        mapElement={<div style={{ height: `100%` }} />}\r\n        initMapkers={placeJson}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}