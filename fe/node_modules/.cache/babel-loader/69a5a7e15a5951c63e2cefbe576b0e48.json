{"ast":null,"code":"var _jsxFileName = \"/home/s1155127099/project/fe/src/component/AddModal/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { _getUserList, _delUser, _reg, _update } from \"../../util/req\";\nimport Button from '../button';\nimport ModalWithTitle from '../ModalWithTitle';\nimport \"./style.css\";\n\nconst AddModal = props => {\n  const gelist = async () => {\n    var res = await _getUserList();\n    setList(res.data);\n  };\n\n  const [list, setList] = useState([]);\n  const [infoForm, setInfoForm] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const save = async () => {\n    if (infoForm.username.length >= 4 && infoForm.password.length >= 4 && infoForm.username.length <= 20 && infoForm.password.length <= 20) {\n      if (infoForm._id) {\n        await _update(infoForm);\n      } else {\n        await _reg(infoForm);\n      } //alert(\"ok\");\n\n\n      gelist();\n      setInfoForm({\n        username: \"\",\n        password: \"\"\n      });\n    } else {\n      alert(\"Username and password should between 4 and 20 characters\");\n    }\n  };\n\n  const update = async it => {\n    setInfoForm({ ...it\n    });\n  };\n\n  useEffect(() => {\n    gelist();\n  }, []);\n  const {\n    up = false,\n    className\n  } = props;\n  const {\n    title\n  } = up ? \"Update User\" : \"Add New User\";\n  return /*#__PURE__*/React.createElement(ModalWithTitle, {\n    englishTitle: title,\n    onClick: props.onClickClose,\n    backgroundColor: \"#1F6332\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addmodal-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addmodal-title-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"addmodal-english-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, \"User Name:\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addmodal-input-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"addmodal-input\",\n    type: \"text\",\n    value: infoForm.username,\n    onChange: e => {\n      setInfoForm({ ...infoForm,\n        username: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addmodal-title-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"addmodal-english-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, \"Password:\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addmodal-input-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"addmodal-input\",\n    type: \"text\",\n    value: infoForm.password,\n    onChange: e => {\n      setInfoForm({ ...infoForm,\n        password: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addmodal-button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addmodal-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    chineseLabel: \"\\u78BA\\u8A8D\",\n    englishLabel: \"Confirm\",\n    onClick: (save(), props.onClickClose),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 6\n    }\n  }, infoForm._id ? \"Save\" : \"Create\")))));\n};\n\nexport default AddModal;","map":{"version":3,"sources":["/home/s1155127099/project/fe/src/component/AddModal/index.js"],"names":["React","useEffect","useState","_getUserList","_delUser","_reg","_update","Button","ModalWithTitle","AddModal","props","gelist","res","setList","data","list","infoForm","setInfoForm","username","password","save","length","_id","alert","update","it","up","className","title","onClickClose","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { _getUserList, _delUser, _reg, _update } from \"../../util/req\";\nimport Button from '../button'\nimport ModalWithTitle from '../ModalWithTitle'\nimport \"./style.css\"\n\nconst AddModal = (props) => {\n\tconst gelist = async () => {\n    var res = await _getUserList();\n    setList(res.data);\n\t};\n\tconst [list, setList] = useState([]);\n\tconst [infoForm, setInfoForm] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n\tconst save = async () => {\n\t\tif(infoForm.username.length>=4 && infoForm.password.length>=4 && infoForm.username.length<=20 && infoForm.password.length<=20) {\n\t\n\t\t\tif (infoForm._id) {\n\t\t\t\tawait _update(infoForm);\n\t\t\t} else {\n\t\t\t\tawait _reg(infoForm);\n\t\t\t}\n\t\n\t\t\t//alert(\"ok\");\n\t\t\tgelist();\n\t\t\tsetInfoForm({ username: \"\", password: \"\" });\n\t }else {alert(\"Username and password should between 4 and 20 characters\");\n\t}};\n\n\tconst update = async (it) => {\n    setInfoForm({ ...it });\n  };\n\n\tuseEffect(() => {\n    gelist();\n  }, []);\n\n\tconst { up = false ,className} = props\n\tconst {title} = up ? \"Update User\": \"Add New User\"\n\n  return(\n    <ModalWithTitle englishTitle={title} onClick={props.onClickClose} backgroundColor=\"#1F6332\">\n\t\t<div className=\"addmodal-container\">\n\t\t\t<div className=\"addmodal-title-container\">\n\t\t\t\t<span className=\"addmodal-english-title\">\n\t\t\t\t\tUser Name:{\" \"}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className=\"addmodal-input-container\">\n\t\t\t\t<input className=\"addmodal-input\"\n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tvalue={infoForm.username}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetInfoForm({ ...infoForm, username: e.target.value }); \n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"addmodal-title-container\">\n\t\t\t\t<span className=\"addmodal-english-title\">\n\t\t\t\t\tPassword:{\" \"}\n\t\t\t\t</span>\n\t\t\t</div>\n      <div className=\"addmodal-input-container\">\n\t\t\t\t<input className=\"addmodal-input\" \n\t\t\t\t\t\ttype=\"text\" \n            value={infoForm.password}\n            onChange={(e) => {\n              setInfoForm({ ...infoForm, password: e.target.value });\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"addmodal-button-container\">\n\t\t\t\t<div className=\"addmodal-button\">\n\t\t\t\t\t<Button chineseLabel=\"確認\" englishLabel=\"Confirm\" onClick={save(),props.onClickClose} >\n\t\t\t\t\t\t{infoForm._id ? \"Save\" : \"Create\"}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n      </div>\n\t\t</div>\t\n  \t</ModalWithTitle>\n  )\n\n}\n\nexport default AddModal"]},"metadata":{},"sourceType":"module"}